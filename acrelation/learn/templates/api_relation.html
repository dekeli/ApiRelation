{% extends "base.html" %}

{% load static %}

{% block content %}
    <div class="panel panel-primary" id="api-relation-div">
        <div class="panel-heading">
            <h3 class="panel-title">变更报表</h3>
        </div>
        <div style="display: inline">
            <button type="button" class="btn btn-primary" style="float: left;margin-left: 15px;margin-top: 30px;margin-bottom: 20px" data-toggle="modal" href="#add-relation-window">新增</button>
            <form method="get">
                {% csrf_token %}
                <span style="float: left;width:4%;margin-top: 20px;margin-left: 50px;">引用方:</span>
                <input name="re-component_name" type="text" id="re-component-id" style="float: left;width:20%;margin-top: 15px" class="form-control" placeholder="请输入引用方项目名"/>
                <button type="submit" class="btn btn-primary" style="float: left;margin-left: 15px;margin-top: 15px">查询</button>
            </form>
        </div>
        <div class="panel-body" id="relation_table_div">
            <table class="table" id="table-relation-list">
                <thead>
                    <tr>
                        <th style="width: 5%">ID</th>
                        <th style="width: 25%">引用方</th>
                        <th style="width: 20%">负责人</th>
                        <th style="width: 15%">引用服务数</th>
                        <th style="width: 15%">引用接口数</th>
                        <th style="width: 20%">操作</th>
                    </tr>
                </thead>
                <tbody id="table_body_re">
                    <tr>
                        <td style="  width: 5%" >123</td>
                        <td style="  width: 25%" >123</td>
                        <td style="  width: 20%" >123</td>
                        <td style="  width: 15%" >123</td>
                        <td style="  width: 15%" >123</td>
                        <td style="width: 20%">
                            <a class="btn btn-primary" data-toggle="modal" href="#inquire-relation-window">查看</a>
                            <a class="btn btn-primary" data-toggle="modal">修改</a>
                            <a class="btn btn-primary" data-toggle="modal">添加引用</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal fade" id="add-relation-window" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 id="add_modal_relation_title" class="modal-title">
                        <strong>新增引用方基本信息</strong>
                    </h4>
                </div>
                <div class="modal-body">
                    <br/>
                    <label style="float:left;width:22%">引用方名称：<span style="color:red">*</span></label>
                    <input type="text" id="re_reference_input" style="width:70%" class="form-control" placeholder="请输入引用方名称" maxlength="50" />
                    <br/>
                    <label style="float:left;width:22%">负责人姓名：<span style="color:red">*</span></label>
                    <input type="text" id="re_supervisor_input" style="width:70%" class="form-control" placeholder="请输入姓名" maxlength="50" />
                    <br/>
                    <label style="float:left;width:22%">负责人工号：<span style="color:red">*</span></label>
                    <input type="text" id="re_supervisor_number" style="width:70%" class="form-control" placeholder="请输入工号" maxlength="50" />
                    </br>
                </div>
                <div id="add_modal_footer" class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> <button type="button" class="btn btn-primary" onclick="">保存</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="inquire-relation-window" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 id="add_modal_relation_title" class="modal-title">
                        <strong>查看基本信息</strong>
                    </h4>
                </div>
                <div class="modal-body">
                    <label style="float:left;width:70%">引用方名称：<span style="font-family:normal">  福建省学分银行</span></label>
                    <br/><br/>
                    <label style="float:left;width:70%">负责人信息：<span style="font-family:normal">  潘添松(380456)</span></label>
                    <br/><br/>
                    <label style="float:left;width:70%">已引用接口信息：</label>
                    <br/>
                    <div class="panel-body" id="re_base_table_div">
                        <table class="table" id="re_base_table">
                            <thead>
                                <tr>
                                    <th style="width: 5%">ID</th>
                                    <th style="width: 20%">服务</th>
                                    <th style="width: 25%">接口详情</th>
                                </tr>
                            </thead>
                            <tbody id="re_base_body">
                                <tr>
                                    <td style="  width: 5%" >123</td>
                                    <td style="  width: 20%" >ele-course</td>
                                    <td style="  width: 25%" >PUT v1/process/</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    </br>
                </div>
                <div id="add_modal_footer" class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{% static "apijs/api_library.js" %}"></script>
{% endblock %}
